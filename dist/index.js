"use strict";(()=>{var c=!1;$(document).on("click",function(e){$(e.target).closest(".nav_ham, .nav_menu").length||c&&p()});$(".nav_ham").on("click",function(e){e.stopPropagation(),p()});var p=()=>{$(window).width()<992&&(c?$(".nav").removeClass("open"):$(".nav").addClass("open"),c=!c)};function v(){var e=$(window).scrollTop();c||$(".nav").attr("data-nav-home")!=="true"&&(e>=100&&!$(".nav").hasClass("fixed")?$(".nav").addClass("fixed"):e===0&&$(".nav").removeClass("fixed"))}$(window).scroll(v);v();$('[scroll="disable"]').on("click",function(){typeof lenis!="undefined"?lenis.stop():$("html").addClass("no-scroll")});$('[scroll="enable"]').on("click",function(){typeof lenis!="undefined"?lenis.start():$("html").removeClass("no-scroll")});$(document).ready(function(){$('select[name="country"').each(function(){let e=$(this);function i(t){return t.map(a=>{let n=document.createElement("option");return n.value=a.Name,n.textContent=a.Name,n.setAttribute("data-code",a.Code),n})}i(countries).forEach(t=>e.append(t))})});$(document).ready(function(){window.dataLayer=window.dataLayer||[];function e(s,t){s.preventDefault&&s.preventDefault(),window.dataLayer.push({event:t})}$("form[data-tracking-submit]").each(function(){let s=$(this),t=s.attr("data-tracking-submit");Webflow&&Webflow.push?Webflow.push(function(){s.on("submit",function(a){e(a,t)})}):console.warn("Webflow form binding not found")})});$(document).ready(function(){let e={suspiciousPatterns:[/\d{8,}/,/[a-zA-Z0-9]+\d{4,}@/,/(.)\1{4,}/,/[^a-zA-Z0-9.@_-]/],rateLimiting:{submissions:new Map,maxAttempts:5,timeWindow:3e5,check:function(i){let s=Date.now(),a=(this.submissions.get(i)||[]).filter(n=>s-n<this.timeWindow);return a.length>=this.maxAttempts?!1:(a.push(s),this.submissions.set(i,a),!0)}},validation:{isValidEmail:function(i){if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(i))return!1;let t=i.toLowerCase();return!((window.blockedEmailDomains||[]).some(n=>t.includes(n.toLowerCase()))||e.suspiciousPatterns.some(n=>n.test(t)))},checkHoneypot:function(i){return!$(i).find('.honeypot, [name*="honey"], #input-roles').toArray().some(t=>$(t).val().trim()!=="")}},init:function(i){$(i).each(function(){let t=$(this),a=t.attr("id")||Math.random().toString(36).substr(2,9),n=t.find('input[type="email"]'),r=t.find('input[type="submit"], button[type="submit"]'),d=t.find(".input-validation");d.removeAttr("style").removeClass("display-message"),r.removeClass("deactivated"),n.trigger("input"),t.find(".honeypot").length||t.append('<input type="text" class="honeypot" style="display:none" tabindex="-1">'),n.on("input blur",function(){let l=$(this).val(),o=l.length>0&&e.validation.isValidEmail(l);r.prop("disabled",!o),r.toggleClass("deactivated",!o),n.toggleClass("invalid-input",!o&&l.length>0),d.toggleClass("show",!o&&l.length>0),console.log("Email validation:",{email:l,isValid:o,buttonDisabled:r.prop("disabled")})}),r.on("click",function(l){let o=n.val(),u=o.length>0&&e.validation.isValidEmail(o),m=e.validation.checkHoneypot(t),f=e.rateLimiting.check(a);return console.log("Submission attempt:",{isValidEmail:u,isHoneypotClean:m,isUnderRateLimit:f,email:o}),u&&m&&f?!0:(l.preventDefault(),f?m?d.text("Please enter a valid business email address."):d.text("Invalid submission detected."):d.text("Too many attempts. Please try again later."),r.prop("disabled",!0).addClass("deactivated"),n.addClass("invalid-input"),d.addClass("show"),!1)}),t.on("keypress",function(l){if(l.key==="Enter"||l.keyCode===13){let o=n.val();if(!(o.length>0&&e.validation.isValidEmail(o)))return l.preventDefault(),!1}})})}};e.init("form")});})();
