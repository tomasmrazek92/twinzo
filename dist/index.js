"use strict";(()=>{var c=!1;$(document).on("click",function(e){$(e.target).closest(".nav_ham, .nav_menu").length||c&&p()});$(".nav_ham").on("click",function(e){e.stopPropagation(),p()});var p=()=>{$(window).width()<992&&(c?$(".nav").removeClass("open"):$(".nav").addClass("open"),c=!c)};function v(){var e=$(window).scrollTop();c||$(".nav").attr("data-nav-home")!=="true"&&(e>=100&&!$(".nav").hasClass("fixed")?$(".nav").addClass("fixed"):e===0&&$(".nav").removeClass("fixed"))}$(window).scroll(v);v();$('[scroll="disable"]').on("click",function(){typeof lenis!="undefined"?lenis.stop():$("html").addClass("no-scroll")});$('[scroll="enable"]').on("click",function(){typeof lenis!="undefined"?lenis.start():$("html").removeClass("no-scroll")});$(document).ready(function(){$('select[name="country"').each(function(){let e=$(this);function s(t){return t.map(a=>{let n=document.createElement("option");return n.value=a.Name,n.textContent=a.Name,n.setAttribute("data-code",a.Code),n})}s(countries).forEach(t=>e.append(t))})});$(document).ready(function(){window.dataLayer=window.dataLayer||[];function e(o,t){o.preventDefault&&o.preventDefault(),window.dataLayer.push({event:t})}$("form[data-tracking-submit]").each(function(){let o=$(this),t=o.attr("data-tracking-submit");Webflow&&Webflow.push?Webflow.push(function(){o.on("submit",function(a){e(a,t)})}):console.warn("Webflow form binding not found")})});$(document).ready(function(){let e={suspiciousPatterns:[/\d{8,}/,/[a-zA-Z0-9]+\d{4,}@/,/(.)\1{4,}/,/[^a-zA-Z0-9.@_-]/],rateLimiting:{submissions:new Map,maxAttempts:5,timeWindow:3e5,check:function(s){let o=Date.now(),a=(this.submissions.get(s)||[]).filter(n=>o-n<this.timeWindow);return a.length>=this.maxAttempts?!1:(a.push(o),this.submissions.set(s,a),!0)}},validation:{isValidEmail:function(s){if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s))return!1;let t=s.toLowerCase();return!((window.blockedEmailDomains||[]).some(n=>t.includes(n.toLowerCase()))||e.suspiciousPatterns.some(n=>n.test(t)))},checkHoneypot:function(s){return!$(s).find('.honeypot, [name*="honey"], #input-roles').toArray().some(t=>$(t).val().trim()!=="")}},init:function(s){$(s).each(function(){let t=$(this),a=t.attr("id")||Math.random().toString(36).substr(2,9),n=t.find('input[type="email"]'),r=t.find('input[type="submit"], button[type="submit"]'),d=t.find(".input-validation");d.removeAttr("style").removeClass("display-message"),r.removeClass("deactivated"),n.trigger("input"),t.find(".hinput-roles").length||t.append('<input type="text" class="input-roles" style="display:none" tabindex="-1">'),n.on("input blur",function(){let i=$(this).val(),l=i.length>0&&e.validation.isValidEmail(i);r.prop("disabled",!l),r.toggleClass("deactivated",!l),n.toggleClass("invalid-input",!l&&i.length>0),d.toggleClass("show",!l&&i.length>0),console.log("Email validation:",{email:i,isValid:l,buttonDisabled:r.prop("disabled")})}),t.on("submit",function(i){return i.preventDefault(),!1}),r.on("click",function(i){i.preventDefault();let l=n.val(),m=l.length>0&&e.validation.isValidEmail(l),u=e.validation.checkHoneypot(t),f=e.rateLimiting.check(a);console.log("Submission attempt:",{isValidEmail:m,isHoneypotClean:u,isUnderRateLimit:f,email:l}),m&&u&&f?t.off("submit").submit():(f?u?d.find("p").text("Please enter a valid business email address."):d.find("p").text("Invalid submission detected."):d.find("p").text("Too many attempts. Please try again later."),r.prop("disabled",!0).addClass("deactivated"),n.addClass("invalid-input"),d.addClass("show"))}),t.on("keydown",function(i){if(i.key==="Enter"||i.keyCode===13)return i.preventDefault(),!1})})}};e.init("form")});})();
